name: Check code format with clang-format
on: [pull_request]
jobs:
  clang-format:
    container:
      image: ghcr.io/neocortec/neo.corepp:1.3
    runs-on: [ self-hosted, builder ]
    steps:
      - run: echo "ðŸŽ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - name: Checkout branch ${{ github.ref }} of repository ${{ github.repository }}."
        uses: actions/checkout@v3
        with:
          lfs: 'true'
      - name: Perform format check
        run: find ./software/src -iname "*.h" -o -iname "*.cpp" | xargs clang-format --Werror --dry-run 
